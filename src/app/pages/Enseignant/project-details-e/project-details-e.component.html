<div class="flex p-12 gap-6 bg-[#F9FAFB] min-h-screen">
    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col gap-6">
      <!-- Project Details and Team Section (Side by Side) -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Projects List Panel -->
        <div class="md:col-span-2 bg-[#EEECEC] rounded-[8px] shadow-lg p-6 flex flex-col">
          <!-- Project Name -->
          <div class="mb-6">
            <label class="block text-sm text-gray-500 mb-3">Project Name</label>
            <div class="bg-[#F9F8F8] rounded-md p-3">
              <p class="text-sm">Web Application design</p>
            </div>
          </div>
          
          <!-- Project Description -->
          <div class="mb-6">
            <label class="block text-sm text-gray-500 mb-3">Project Description</label>
            <div class="bg-white rounded-md p-3">
              <p class="text-sm">Create a fully documented design system for a web platform, including reusable UI components and style guidelines.</p>
            </div>
          </div>
          
          <!-- Number of Students -->
          <div>
            <label class="block text-sm text-gray-500 mb-2">Number of Students per Group</label>
            <div class="bg-white rounded-md p-3">
              <p class="text-sm">3</p>
            </div>
          </div>
        </div>
  
        <!-- Team Section -->
        <div class="bg-[#EEECEC] rounded-lg shadow-lg p-6">
          <h2 class="text-sm text-gray-500 mb-4">Team</h2>
          <div class="space-y-4">
            <!-- Team Member 1 -->
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 rounded-full bg-[#1FA89E]-50 flex items-center justify-center">
                <div class="w-7 h-7 rounded-full border border-[#1FA89E]"></div>
              </div>
              <p class="text-sm">Samia THAMEUR</p>
            </div>
            
            <!-- Team Member 2 -->
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 rounded-full bg-[#1FA89E]-50 flex items-center justify-center">
                <div class="w-7 h-7 rounded-full border border-[#1FA89E]"></div>
              </div>
              <p class="text-sm">Eya BOUDIDAH</p>
            </div>
            
            <!-- Team Member 3 -->
            <div class="flex items-center space-x-3">
              <div class="w-8 h-8 rounded-full bg-[#1FA89E]-50 flex items-center justify-center">
                <div class="w-7 h-7 rounded-full border border-[#1FA89E]"></div>
              </div>
              <p class="text-sm">Mohamed Ali CHIBANI</p>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Tasks Section (Below Project Details and Team) -->
      <div class="bg-[#EEECEC] rounded-2xl shadow-lg p-6">
        <div class="mb-8">
          <h2 class="text-sm text-gray-500 mb-4">Tasks</h2>
          <div class="space-y-3">
            <!-- Task Items -->
            <div *ngFor="let task of tasks" class="bg-white rounded-md shadow-sm overflow-hidden">
              <!-- Task Header (Always Visible) -->
              <div 
                class="p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50"
                (click)="toggleTask(task.id)"
              >
                <div class="flex items-center space-x-3">
                  <span class="text-xs text-gray-500">{{ task.id < 10 ? '0' + task.id : task.id }}</span>
                  <p class="text-sm">{{ task.name }}</p>
                </div>
                <svg 
                  xmlns="http://www.w3.org/2000/svg" 
                  class="h-5 w-5 text-gray-400 transition-transform" 
                  [ngClass]="{'transform rotate-90': expandedTask === task.id}"
                  viewBox="0 0 20 20" 
                  fill="currentColor"
                >
                  <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
              </div>
              
              <!-- Task Expanded Content (Visible when expanded) -->
              <div *ngIf="expandedTask === task.id" class="border-t border-gray-100 bg-gray-50 p-4">
                <!-- Task Description -->
                <p class="text-sm text-gray-600 mb-4">{{ task.description }}</p>
                
                <!-- Submissions -->
                <div *ngIf="task.submissions && task.submissions.length > 0" class="space-y-3">
                  <div *ngFor="let submission of task.submissions" class="bg-white rounded-md p-3 border border-gray-200">
                    <div class="flex items-center">
                      <!-- File Icon (based on file type) -->
                      <div [ngClass]="getFileColor(submission.fileType)" class="flex-shrink-0">
                        <!-- You would need to create these SVG icons or use an icon library -->
                        <svg *ngIf="submission.fileType === 'pdf'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                        </svg>
                        <svg *ngIf="submission.fileType === 'word'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                        </svg>
                        <svg *ngIf="submission.fileType === 'git'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101" />
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 015.656 0l4 4a4 4 0 01-5.656 5.656l-1.102-1.101" />
                        </svg>
                        <svg *ngIf="submission.fileType === 'video'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                        </svg>
                      </div>
                      
                      <!-- File Details -->
                      <div class="ml-3 flex-1">
                        <p class="text-sm font-medium">{{ submission.fileName }}</p>
                        <p *ngIf="submission.fileSize" class="text-xs text-gray-500">{{ submission.fileSize }}</p>
                      </div>
                      
                      <!-- Action Button -->
                      <a 
                        [href]="submission.fileUrl" 
                        target="_blank" 
                        class="ml-auto px-3 py-1 text-xs border border-gray-300 rounded-md hover:bg-gray-50 flex items-center"
                      >
                        <span>{{ getActionLabel(submission.fileType) }}</span>
                        <svg *ngIf="submission.fileType === 'git'" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                        </svg>
                        <svg *ngIf="submission.fileType !== 'git'" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                      </a>
                    </div>
                    
                    <!-- Submission Date -->
                    <div class="mt-2 text-right">
                      <span class="text-xs text-gray-500">{{ submission.submissionDate }}</span>
                    </div>
                  </div>
                </div>
                
                <!-- No Submissions Message -->
                <p *ngIf="!task.submissions || task.submissions.length === 0" class="text-sm text-gray-500 italic">
                  Aucune soumission pour cette t√¢che.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Chat Section -->
    <div class="w-1/3 bg-[#EEECEC] rounded-2xl shadow-lg p-6 flex flex-col">
      <div class="flex-1 space-y-4 overflow-y-auto" #chatContainer>
        <div class="bg-white rounded-md p-4 shadow-sm" *ngFor="let message of messages">
          <p class="text-sm">{{ message }}</p>
        </div>
        
        <!-- Feedback Section (Static) -->
        <div *ngIf="expandedTask !== null" class="bg-white rounded-md p-4 shadow-sm">
          <h3 class="text-sm font-medium mb-2">Your document is</h3>
          <p class="font-medium mb-4">well-structured and detailed</p>
          
          <div class="border-t pt-4">
            <p class="text-sm">
              Does the prototype include everything you need, or is there anything you'd like to add?
            </p>
          </div>
        </div>
      </div>
      
      <div class="flex mt-4">
        <input 
          type="text" 
          placeholder="Type your message..." 
          class="flex-1 p-3 border border-gray-200 rounded-l-md focus:outline-none focus:ring-1 focus:ring-[#1FA89E]" 
          [(ngModel)]="newMessage" 
          (keyup.enter)="sendMessage()" 
        />
        <button 
          class="bg-[#1FA89E] text-white p-3 rounded-r-md" 
          (click)="sendMessage()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 rotate-90" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  